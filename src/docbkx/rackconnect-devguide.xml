<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!ENTITY PREFIX "rackconnect">
<!ENTITY PRODUCTNAME "RackConnect">
     <!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash  "&#x2013;">
        <!ENTITY mdash  "&#x2014;">
        <!ENTITY hellip "&#x2026;">
        
        <!-- Useful for describing APIs -->
        <!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
        
        <!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
        <!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
        <!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">
        
        <!ENTITY CHECK  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Check_mark_23x20_02.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>
              
        <!ENTITY ARROW  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Arrow_east.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>
]>

  <book  
    xmlns="http://docbook.org/ns/docbook" 
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude" 
    xmlns:svg="http://www.w3.org/2000/svg"
    version="5.0" 
    xml:id="&PREFIX;-devguide"
    status="DRAFT">
    <title>Rackspace &PRODUCTNAME; API Developer Guide</title>
    <titleabbrev>&PRODUCTNAME; API DevGuide</titleabbrev>
    <?rax canonical.url.base="http://docs.rackspace.com/rackconnect/api/v3/rackconnect-gettingstarted/content"?>
  <info>
    <copyright>
      <year>2014</year>
      <holder>Rackspace US, Inc.</holder>
    </copyright>
    <releaseinfo>API v3</releaseinfo>
    <productname>Rackspace &PRODUCTNAME;</productname>
    <!--The <productname> text matches the first few words of the title. 
      The build system splits the title into 
      productname + rest of title on the pdf cover.-->
    <!--If you leave the <pubdate> element empty, 
      the build system inserts today's date automatically. -->
    <pubdate>2014-12-01</pubdate>
    <revhistory>
      <revision>
        <date>2014-12-01</date>
        <revdescription>
          <para>
            Initial Rackspace-branded draft.
          </para>
        </revdescription>
      </revision>
    </revhistory>
    <legalnotice role="rs-api">
      <annotation>
        <remark>Copyright details are filled in by the build system.</remark>
      </annotation>
    </legalnotice>
    <!-- 
       The values in raxm:metadata control 
       where the content appears on the docs.rackspace.com
       landing page.
       Work with Self Service Engineering to find out what to put here. 
    -->
    <!-- 
         hide until can get valid value for RackConnect;
         til then, it causes status=red 
      <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
        <raxm:displayname>API Developer Guide</raxm:displayname>
        <raxm:product version="v3">&PREFIX;</raxm:product>
        <raxm:priority>20</raxm:priority>
      </raxm:metadata>
      -->
  </info>

  <chapter xml:id="Overview">
    <title>Introduction</title>
    <para>
      This is an early, partial draft 
      of Rackspace-branded documentation 
      describing the &PRODUCTNAME; v3 API.
    </para>
    <section xml:id="resources">
      <title>Additional resources</title>
      <para>
        Documentation of the &PRODUCTNAME; v3 API 
        is under construction. 
        You can see additional relevant work 
        in progress in these places:
        <itemizedlist>
          <listitem>
            <para>source for this document at <link
              xlink:href="https://github.com/rackerlabs/docs-rackconnect"
              >github.com/rackerlabs/docs-rackconnect</link>
            </para>
          </listitem>
          <listitem>
            <para>draft descriptions of pending features 
              at <link xlink:href="http://docs.rcv3.apiary.io"
                >http://docs.rcv3.apiary.io</link>
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <section xml:id="change_history">
      <title>Document change history</title>
      <para>This version of the document 
        replaces and obsoletes all previous versions. 
        The following table describes the most recent changes:</para>
      <para>
        <?rax revhistory?>
      </para>
    </section>
  </chapter>
<chapter xml:id="Authentication">
  <title>Authentication</title>
      <para> Every REST request against the Rackspace RackConnect service requires the inclusion of
      a specific authentication token, supplied by the <code>X-Auth-Token</code> HTTP header. You
      obtain this token by using the Rackspace Cloud Identity service and supplying a valid username
      and API access key. </para>
      <section xml:id="Geographic_Endpoints">
        <title>Geographic endpoints</title>
        <para> The Rackspace Cloud Identity service serves as the entry point to all Rackspace Cloud
          APIs and is itself a RESTful web service. </para>
        <para> You can use the following endpoints to access the Rackspace Cloud Identity service
          for authentication:</para>
        <itemizedlist spacing="compact">
          <listitem>
            <para>
              <link xlink:href="&ENDPOINT-US-20;">&ENDPOINT-US-20;</link>
            </para>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="Retrieving_the_auth_token">
        <title>Retrieving the authentication token</title>
        <informaltable rules="all">
          <tbody>
            <tr>
              <td colspan="1">&POST; </td>
              <td colspan="1"> v2.0/tokens </td>
              <td colspan="4"> Authenticate to receive a token and a service catalog. </td>
            </tr>
          </tbody>
        </informaltable>
        <simpara> Normal response codes: <returnvalue>200</returnvalue>,
            <returnvalue>203</returnvalue>
        </simpara>
        <simpara> Error response codes: unauthorized (<errorcode>401</errorcode>), userDisabled
            (<errorcode>403</errorcode>), badRequest (<errorcode>400</errorcode>), authFault
            (<errorcode>500</errorcode>), serviceUnavailable (<errorcode>503</errorcode>) </simpara>
        <para> The authenticate operation provides clients with an authentication token and a list
          of regional cloud endpoints. </para>
        <para>The example requests and responses in this section illustrate a general case. In your
          authentication request, use your own credentials rather than the example values shown here
          for <code>username</code> and <code>apiKey</code>. When you authenticate successfully, the
          response to your authentication request will include a catalog of the services to which
          you have subscribed rather than the example values shown here.</para>
        <note>
          <title>Notes</title>
          <itemizedlist>
            <listitem>
              <para>For information about how to use cURL to retrieve the authentication token, see
              the <citetitle>Rackspace RackConnect Getting Started Guide</citetitle>.</para>
            </listitem>
            <listitem>
              <para> If you authenticate with username and password credentials, you can use
                multi-factor authentication to add an additional level of account security. This
                feature is not implemented for username and API credentials. For more information,
                see <link
                  xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/MFA_Ops.html"
                  >Multifactor authentication</link> in the <citetitle>Cloud Identity Client
                  Developer Guide</citetitle>. </para>
            </listitem>
          </itemizedlist>
        </note>
        <example>
          <title>Authentication with US endpoint: XML request</title>
          <programlistingco>
            <areaspec>
              <area units="linecolumn" coords="12 26"/>
              <area units="linecolumn" coords="13 26"/>
            </areaspec>
            <programlisting language="xml"><xi:include href="../wadl/samples/credentials-20.xml" parse="text"/></programlisting>
          </programlistingco>
        </example>
        <example>
          <title>Authentication with US endpoint: JSON request</title>
          <programlistingco>
            <areaspec>
              <area units="linecolumn" coords="13 22"/>
              <area units="linecolumn" coords="14 20"/>
            </areaspec>
            <programlisting language="json"><xi:include href="../wadl/samples/credentials-20.json" parse="text"/></programlisting>
          </programlistingco>
        </example>
        <calloutlist>
          <callout arearefs="credentials.xml.user">
            <para>The username is your common Rackspace Cloud username. </para>
          </callout>
          <callout arearefs="credentials.xml.key">
            <para>The key is your API access key. </para>
            <para><emphasis role="bold">To find your API key</emphasis>
            </para>
            <orderedlist>
              <listitem>
                <para>Log in to the Cloud Control Panel (<link
                    xlink:href="https://mycloud.rackspace.com"
                  >https://mycloud.rackspace.com</link>).</para>
              </listitem>
              <listitem>
                <para>On the upper-right side of the top navigation pane, click your
                  username.</para>
              </listitem>
              <listitem>
                <para>From the menu, select <guilabel>Account Settings</guilabel>.</para>
              </listitem>
              <listitem>
                <para>In the Login Details section of the Account Settings page, locate the
                    <guilabel>API Key</guilabel> field and click <guibutton>Show</guibutton>.</para>
              </listitem>
              <listitem>
                <para>Copy the value of the API key and paste it into a text editor of your
                  choice.</para>
              </listitem>
              <listitem>
                <para>Click <guibutton>Hide</guibutton> to hide the value of the API key.</para>
              </listitem>
            </orderedlist>
            <para>You also need your cloud account ID. In the documentation, the account ID is often
              referred to as your tenant name or tenant ID (technically, the ID is different from
              the name, but at Rackspace, they are the same thing). Together, three components—your
              username, your API key, and your tenant ID or cloud account ID—form the authentication
              credentials that are required to connect to the Rackspace cloud.</para>
            <para>To find your tenant ID or cloud account ID, click your username on the upper-right
              side of the top navigation pane in the Cloud Control Panel. The tenant ID or account
              ID is listed first in the menu.</para>
          </callout>
        </calloutlist>
        <example>
          <title>Authentication with US endpoint: XML response</title>
          <programlistingco>
            <areaspec>
              <area units="linecolumn" coords="7 9"/>
              <area units="linecolumn" coords="15 10"/>
              <area units="linecolumn" coords="16 67"/>
              <area units="linecolumn" coords="17 12"/>
              <area units="linecolumn" coords="22 21"/>
              <area units="linecolumn" coords="51 34"/>
              <area units="linecolumn" coords="51 54"/>
              <area units="linecolumn" coords="52 30"/>
              <area units="linecolumn" coords="53 66"/>
              <area units="linecolumn" coords="54 9"/>
            </areaspec>
            <programlisting language="xml"><xi:include href="../wadl/samples/auth-20.xml" parse="text"/></programlisting>
          </programlistingco>
        </example>
        <example>
          <title>Authentication with US endpoint: JSON response</title>
          <programlistingco>
            <areaspec>
              <area units="linecolumn" coords="217 1"/>
              <area units="linecolumn" coords="9 8"/>
              <area units="linecolumn" coords="16 45"/>
              <area units="linecolumn" coords="17 12"/>
              <area units="linecolumn" coords="30 8"/>
              <area units="linecolumn" coords="193 13"/>
              <area units="linecolumn" coords="192 13"/>
              <area units="linecolumn" coords="198 16"/>
              <area units="linecolumn" coords="199 16"/>
              <area units="linecolumn" coords="200 16"/>
            </areaspec>
            <programlisting language="json"><xi:include href="../wadl/samples/auth-20.json" parse="text"/></programlisting>
          </programlistingco>
        </example>
        <calloutlist>
          <callout arearefs="response.xml.namespaces">
            <para> In XML responses only, a list of namespaces identifies API extensions that add
              functionality to the core API. </para>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.token">
            <para>The token can be presented to a service as evidence of authentication. Tokens are
              valid for a finite duration. An authentication token's default lifespan is 24 hours.
              Applications should be designed to re-authenticate after receiving a 401
              (Unauthorized) response from a service endpoint. </para>
            <para>The token's <code>expires</code> attribute denotes the time after which the token
              automatically becomes invalid. A token can be manually revoked before the time
              identified by the <code>expires</code> attribute. The attribute predicts a token's
              maximum possible lifespan but does not guarantee that it will reach that lifespan.
              Clients are encouraged to cache a token until it expires. </para>
          </callout>
          <callout arearefs="response.xml.dfltregion">
            <para>Users can be assigned a default region. If multiple endpoints are associated with
              a service in the user's catalog, the endpoint for the user's default region is
              selected if it is available. In this example, the user's default region is DFW, and
              several of the services in the catalog are associated with endpoints in that region.
              Whenever possible, the user's work is directed to the DFW region. </para>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.role">
            <para>Users can be assigned multiple roles, with each role providing specific
              privileges. In this example, <code>yourUserName</code> is the administrative user for
              the account and holds the fully-privileged <code>identity:admin</code> role. Other
              users might hold other roles with different privileges. Roles do not have to be
              associated with actual job functions such as Administrator, Operator, Developer,
              Tester, or Trainer. </para>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.catalog">
            <para> The service catalog lists the services that you can access. In this example, the
              user can access one database service, one load-balancing service, two compute services
              (Cloud Servers OpenStack and Cloud Servers), two object storage services (Cloud Files
              CDN and Cloud Files), one DNS service, one Rackspace CDN service, and two Rackspace
              Cloud Metrics services. The catalog entry for each service provides at least one
              endpoint URI for that service. Other information, such as regions, versions, and
              tenants, is provided if it is relevant to a user's access to a service. </para>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.servicetype">
            <para>The service <code>type</code> attribute identifies services that perform similar
              functions, regardless of service names. In the examples, the service named
                <code>cloudMetrics</code> is identified as
              <code>type="rax:cloudmetrics"</code>.</para>
            <tip>
              <para>Beginning with Cloud Identity v2.0, the service catalog includes the service
                  <code>type</code> attribute to identify services that perform similar functions
                but have different names. For example, <code>type="compute"</code> identifies
                compute services such as cloudServers and cloudServersOpenStack. Some developers
                have found the service <code>type</code> attribute to be useful in parsing the
                service catalog. For additional information about the Cloud Identity service, see
                the <citetitle>Cloud Identity Client Developer Guide</citetitle> at <link
                  xlink:href="http://docs.rackspace.com">http://docs.rackspace.com/</link>.</para>
            </tip>
            <important>
              <para>Use the service <code>type</code> attribute as the primary value for locating a
                service. If multiple endpoints of the same service type exist in the same region,
                use the service <code>name</code> attribute to locate the appropriate
                service.</para>
            </important>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.servicename">
            <para> The service <code>name</code> attribute identifies each unique service in the
              catalog. After a service is created, its name does not change. However, new services
              of the same service <code>type</code> can be added to the catalog with new names. </para>
            <important>
              <para> If you are programmatically parsing an authentication response, use service
                  <code>type</code> rather than service <code>name</code> to determine whether a
                user has access to a particular kind of service. Service type is stable across all
                releases. New service types might be developed, but existing service types are not
                renamed. In the preceding examples, <code>type="compute"</code> identifies all of
                the available compute services. If new compute services are added in future
                releases, you can recognize them by parsing for <code>type="compute"</code> in the
                authentication response's service catalog.</para>
            </important>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.region">
            <para>A service might expose endpoints in different regions. Regional endpoints enable
              users to provision resources in a manner that provides high availability. </para>
            <para> Some services, such as Rackspace Cloud Metrics, are not region-specific. These
              services supply a single non-regional endpoint and do not provide access to internal
              URIs. </para>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.tenant">
            <para> Some services recognize specification of a tenant. If a service recognizes
              tenants, the format of the tenant specification is defined only by the service. For
              details about whether and how to specify a tenant, check the documentation for the
              service that you are using.</para>
            <para> </para>
          </callout>
          <callout arearefs="response.xml.url">
            <para> An endpoint can be assigned public URIs and internal URIs. A public URI is
              accessible from anywhere. Access to a public URI usually incurs traffic charges.
              Internal URIs are accessible only to services within the same region. Access to an
              internal URI is free of charge. </para>
            <para> </para>
          </callout>
        </calloutlist>
        <para>Rackspace RackConnect service endpoints are published in the service catalog in the
        authentication response with the account information, which is a required element of the
        service endpoints. For more information about service endpoints, see <xref
          linkend="serviceEndpoints"/>.</para>
      </section>
    <section xml:id="Role_based_access_control">
      <title>Role Based Access Control</title>
      <para>Role Based Access Control (RBAC) restricts access to the capabilities of Rackspace Cloud
        services, including the Rackspace RackConnect API, to authorized users only. RBAC enables
        Rackspace Cloud customers to specify which account users of their Cloud account have access
        to which RackConnect API service capabilities, based on roles defined by Rackspace. The
        permissions to perform certain operations in the RackConnect API – create, read, update,
        delete – are assigned to specific roles. The Cloud account owner user assigns these roles,
        either global (multiproduct) or product-specific, to account users. </para>
      <para>For more information about RBAC, see the <link
          xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/Role_Based_Access_Control-d1e808.html"
          >RBAC</link> section in the <citetitle>Cloud Identity Client Developer
        Guide</citetitle>.</para>
      <section xml:id="Assigning_roles_to_account_users">
        <title>Assigning roles to account users</title>
        <para>The account owner (identity:user-admin) can create account users on the account and
          then assign roles to those users. The roles grant the account users specific permissions
          for accessing the capabilities of the RackConnect service. Each account has only one
          account owner, and that role is assigned by default to any Rackspace Cloud account when
          the account is created.</para>
        <para>For information about how to perform the following tasks, see the <citetitle>Cloud
            Identity Client Developer Guide</citetitle>:</para>
        <itemizedlist spacing="compact">
          <listitem>
            <para><link
                xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/POST_addUser__v2.0_users_User_Calls.html"
                >Create account users</link></para>
          </listitem>
          <listitem>
            <para><link
                xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/PUT_addUserRole__v2.0_users__userId__roles_OS-KSADM__roleid__Role_Calls.html"
                >Assign roles to account users</link></para>
          </listitem>
          <listitem>
            <para><link
                xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/DELETE_deleteUserRole__v2.0_users__userId__roles_OS-KSADM__roleid__Role_Calls.html"
                >Delete roles from account users</link></para>
          </listitem>
        </itemizedlist>
        <note>
          <para>The account owner (identity:user-admin) role cannot hold any additional roles
            because it already has full access to all capabilities.</para>
        </note>
      </section>
    </section>  
  
</chapter>
  <chapter xml:id="General_API_information"><title>General API information</title>
    <section xml:id="serviceEndpoints">
      <title>Service access endpoints</title>
      <para>Rackspace RackConnect has two global endpoints. Data is replicated to all data centers.
        The global endpoints are shown in the following table.</para>
      <para>
        <table>
          <caption>RackConnect service access endpoints</caption>
          <col width="50%"/>
          <col width="50%"/>
          <thead>
            <tr>
              <th>Endpoint</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>https://global.metrics-ingest.api.rackspacecloud.com/v2.0/<replaceable>123456</replaceable></td>
              <td>This endpoint is used to send metrics data to the database.</td>
            </tr>
            <tr>
              <td>https://global.metrics.api.rackspacecloud.com/v2.0/<replaceable>123456</replaceable></td>
              <td>This endpoint is used to retrieve metrics data from the database.</td>
            </tr>
          </tbody>
        </table>
      </para>
      <para>Replace the example account ID number, <replaceable>123456</replaceable>, with your
        actual account ID returned as part of the authentication service response.</para>
      <para>Your account ID is located after the final slash (/) in the <code>publicURL</code> field
        returned by the authentication response. For example, in <xref
          linkend="auth-response-example-json"/> the <code>publicURL</code> field for RackConnect is
          <code>https://global.metrics.api.rackspacecloud.com/v1.0/110011</code> and the account ID
        is <emphasis role="bold">110011</emphasis>. </para>
      <note>
        <para>The account ID from Cloud Identity is the same as the project ID given in the
            <code>X-Project-Id</code> header in Rackspace RackConnect. (You might also see the
          account ID or project ID referred to as the tenant ID.)</para>
      </note>
    </section>
    <section xml:id="contractVersion" xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml">
      <title>RackConnect contract version</title>
      <para> The Rackspace RackConnect version defines the contract and build information for the
        API. </para>
      <para> The contract version denotes the data model and behavior that the API supports. The
        requested contract version is included in all request URLs. Different contract versions of
        the API might be available at any given time and are not guaranteed to be compatible with
        one another. </para>
      <example>
        <title>Example request URL (contract version in <emphasis role="strong"
          >bold</emphasis>)</title>
        <programlisting>https://global.metrics.api.rackspacecloud.com/<emphasis role="bold">v2.0</emphasis>/<parameter>123456</parameter></programlisting>
      </example>
      <note>
        <para>This document pertains to contract version 2.0.</para>
      </note>
    </section>
    <section xml:id="Request_Response_Types-d1e903" xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml">
      <title>Request and response types</title>
      <para>The RackConnect API supports JSON data serialization formats. </para>
      <para>Specify the request format by using the <code>Content-Type</code> header, which is
          <emphasis role="italic">required</emphasis> for operations that have a request body. </para>
      <para>You can specify the response format in requests by using the <code>Accept</code> header
        or by adding a <code>.json</code> extension to the request URI. If no response format is
        specified, JSON is the default response format. </para>
      <table rules="all">
        <caption>Response format</caption>
        <?dbfo keep-together="always"?>
        <thead>
          <tr align="center">
            <td>Format</td>
            <td>Accept header</td>
            <td>Query extension</td>
            <td>Default</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>JSON</td>
            <td>application/json</td>
            <td>.json</td>
            <td>Yes</td>
          </tr>
        </tbody>
      </table>
    </section>
    <section xml:id="Limits-d1e1397" xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml">
      <title>Limits</title>
      <para>All accounts are configured with default thresholds, or limits, that manage capacity and
        prevent abuse of the system. </para>
      <para>Cloud Metrics provides an operation for both the Ingest API and the Query API that
        enables users to verify the limit for each respective tenant.</para>
      <para>Rate limits control the frequency at which the user can issue specific API
        requests.</para>
      <para>For Cloud Metrics, the rate limit is 1000. </para>
      <para>Rate limits are reset after a certain amount of time passes. For Cloud Metrics, the rate
        limit is per minute.</para>
      <note>
        <para>If the default limits are too low for your particular application, contact Rackspace
          Cloud support to request an increase. All requests require reasonable
          justification.</para>
      </note>
    </section>
    <section xml:id="commonHeaders">
      <title>Common headers</title>
      <para>The following table describes the common headers used by the API.</para>
      <table rules="all">
        <caption>Common headers</caption>
        <col width="30%"/>
        <col width="70%"/>
        <thead>
          <tr>
            <th>Header</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>X-Auth-Token</td>
            <td>Authentication token. Required.</td>
          </tr>
          <tr>
            <td>X-Project-Id</td>
            <td>A unique ID for the user to which the value of <code>X-Auth-Token</code> grants
              access. The unique ID is your account ID.</td>
          </tr>
          <tr>
            <td>Accept</td>
            <td>Media type. Initially, only <code>application/json</code> is supported. </td>
          </tr>
          <tr>
            <td>Accept-Encoding</td>
            <td>Specifies that the agent accepts gzip-encoded response bodies</td>
          </tr>
          <tr>
            <td>Client-ID</td>
            <td>A unique ID for each client instance. The <code>Client-ID</code> is used to avoid
              echoing a sender's messages back to the same instance, and it can be logged by the
              server for future use. The client generates the <code>Client-ID</code> once, and it
              persists between restarts of the client. The client should reuse the same
                <code>Client-ID</code>. <emphasis role="bold">Note</emphasis>: All message-related
              operations require that <code>Client-ID</code> is included in the headers to ensure
              that messages are not echoed back to the client that posted them, unless the client
              explicitly requests this.</td>
          </tr>
          <tr>
            <td>Content-Length</td>
            <td>For <command>POST</command> or <command>PUT</command> requests, the length in bytes
              of the message document being submitted</td>
          </tr>
          <tr>
            <td>Content-Type</td>
            <td><code>application/json</code>
            </td>
          </tr>
          <tr>
            <td>Date</td>
            <td>Current date and time</td>
          </tr>
          <tr>
            <td>Host</td>
            <td>Host name of the API</td>
          </tr>
        </tbody>
      </table>
    </section>
    <section xml:id="datetimeformat">
      <title>Date and time format</title>
      <para>The Rackspace RackConnect service uses an ISO-8601 compliant date format for the display
        and consumption of date and time values. </para>
      <example>
        <title>Service date and time format</title>
        <programlisting>yyyy-MM-dd'T'HH:mm:ss.SSSZ</programlisting>
        <para>For example, September 19, 2014 at 8:07:08 AM, GMT-5 would have the following
          format:</para>
        <programlisting>2014-09-19T08:07:08-05:00</programlisting>
      </example>
      <para> The following table describes the date and time format codes. </para>
      <table rules="all">
        <caption>Explanation of date and time format codes</caption>
        <thead>
          <tr>
            <td>Code</td>
            <td>Description</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>yyyy</td>
            <td>Four-digit year</td>
          </tr>
          <tr>
            <td>MM</td>
            <td>Two-digit month</td>
          </tr>
          <tr>
            <td>dd</td>
            <td>Two-digit day of month</td>
          </tr>
          <tr>
            <td>T</td>
            <td>Separator between the date and the time</td>
          </tr>
          <tr>
            <td>HH</td>
            <td>Two-digit hour of the day (00-23)</td>
          </tr>
          <tr>
            <td>mm</td>
            <td>Two-digit minutes of the hour</td>
          </tr>
          <tr>
            <td>ss</td>
            <td>Two-digit seconds of the minute</td>
          </tr>
          <tr>
            <td>SSS</td>
            <td>Three-digit milliseconds of the second</td>
          </tr>
          <tr>
            <td>Z</td>
            <td>RFC-822 time zone</td>
          </tr>
        </tbody>
      </table>
    </section>
    <section xml:id="responseCodes-d101e">
      <title>Response codes</title>
      <para>RackConnect returns an HTTP code that denotes the type of response. </para>
      <itemizedlist>
        <listitem>
          <para>Successful response codes are returned only if all configured providers were
            successful in processing the request.</para>
        </listitem>
        <listitem>
          <para>Error response codes are accompanied by an <code>application/json</code> response
            body that contains the error messages.</para>
        </listitem>
      </itemizedlist>
      <para>The following table lists possible responses with their associated codes and
        descriptions.</para>
      <table rules="all">
        <caption>List of repsonse codes</caption>
        <thead>
          <tr align="center">
            <td colspan="2">Response</td>
            <td colspan="1">Associated response code</td>
            <td colspan="3">Description</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="2"><code>OK</code></td>
            <td colspan="1">200</td>
            <td colspan="3">The request has succeeded. (Some API calls might return 201
              instead.)</td>
          </tr>
          <tr>
            <td colspan="2"><code>Created</code></td>
            <td colspan="1">201</td>
            <td colspan="3">The request has been fulfilled and a resource was created.</td>
          </tr>
          <tr>
            <td colspan="2"><code>Accepted</code></td>
            <td colspan="1">202</td>
            <td colspan="3">The request has been accepted for processing.</td>
          </tr>
          <tr>
            <td colspan="2"><code>No Content</code></td>
            <td colspan="1">204</td>
            <td colspan="3">The request has been fulfilled but does not return a representation
              (that is, the response is empty).</td>
          </tr>
          <tr>
            <td colspan="2"><code>Service Unavailable</code></td>
            <td colspan="1">503</td>
            <td colspan="3">The service is temporarily unavailable (for example, for scheduled
              platform maintenance). Try again later.</td>
          </tr>
        </tbody>
      </table>
      <para xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml"
        ><?rax-fo keep-with-next?> An example of an error message follows. </para>
      <example xmlns:m="http://www.w3.org/1998/Math/MathML"
        xmlns:html="http://www.w3.org/1999/xhtml">
        <title>Error message example</title>
        <programlisting>HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "title": "Unsupported limit",
  "description": "The given limit cannot be negative, and cannot be greater than 50.",
  "code": 1092,
  "link": {
    "rel": "help",
    "href": "http://docs.example.com/messages#limit",
    "text": "API documentation for the limit parameter"
  }
}</programlisting>
      </example>
    </section>
  </chapter>
    <chapter 
      xml:id="api-operations" 
      role="api-reference">
      <!-- role="api-reference" introduces chapter 
        with table of operations describing full content of WADL -->
      <title>API Reference</title>
      <para>The API can perform these operations:</para>

      <section 
        xml:id="CloudNetworks_Operations">
        <title>Cloud networks</title>
        <para>
          These API operations relate only 
          to cloud networks associated with 
          a RackConnect configuration
        </para>
        <para> The <code>network_id</code> returned by these calls
        matches the cloud networks UUID returned by the Cloud Networks
        (Neutron) API. <tip>
          <para> You can learn about the Cloud Networks API in
            Rackspace's usual sources of API-related documentation: 
            <itemizedlist>
              <listitem>
                <para> API operations reference at <link
                    xlink:href="http://api.rackspace.com/api-ref-networks.html"
                    >api.rackspace.com</link>
                </para>
              </listitem>
              <!-- 
                2014-11-28 Cloud Networks is not included 
                in QuickStarts; when it is, update this 
              <listitem>
                <para>
                  SDK QuickStarts at 
                  <link 
                    xlink:href="https://developer.rackspace.com/docs/cloud-servers/getting-started/">
                    developer.rackspace.com
                  </link>
                </para>
              </listitem>
              -->
              <listitem>
                <para> API DevGuide, Getting Started, and Release Notes
                  at <link xlink:href="http://docs.rackspace.com/"
                    >docs.rackspace.com</link>
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </tip></para>
        <para>This section describes the &PRODUCTNAME; API operations
        that relate to cloud networks.</para>
        
        <wadl:resources 
          xmlns:wadl="http://wadl.dev.java.net/2009/02">
          <wadl:resource 
            href="../wadl/rackconnect.wadl#cloud_networks">
            <wadl:method 
              href="../wadl/rackconnect.wadl#cloudNetworks-listall"/>  
          </wadl:resource>
          <wadl:resource 
            href="../wadl/rackconnect.wadl#network_id">
            <wadl:method 
              href="../wadl/rackconnect.wadl#cloudNetworks-list1"/> 
          </wadl:resource>
        </wadl:resources> 
        
      </section>
      

        <section 
        xml:id="LBPools_Operations">
        <title>Load balancer pools</title>
        <para>Load balancer pools must be configured in advance by your Network Security team to be
        eligible for use with RackConnect. If you do not see a pool that you expect to see, contact
        your Support team for further assistance. </para>
        <para>The <code>load_balancer_pool_id</code>returned by these calls is automatically
        generated by the RackConnect automation and remains constant unless the load balancer pool
        is renamed on your hardware load balancer. </para>
        <para> All load balancer pools currently return a status of
          <code>ACTIVE</code>. Future features may introduce
        additional statuses. 
        </para>
        
        <para>This section describes the &PRODUCTNAME; API operations
        that relate to load balancer pools.</para>
        
        <wadl:resources 
          xmlns:wadl="http://wadl.dev.java.net/2009/02">
          <wadl:resource 
            href="../wadl/rackconnect.wadl#load_balancer_pools">
            <wadl:method 
              href="../wadl/rackconnect.wadl#LBPools-listall"/>
          </wadl:resource>
          <wadl:resource 
            href="../wadl/rackconnect.wadl#load_balancer_pool_id">
            <wadl:method 
              href="../wadl/rackconnect.wadl#LBPools-list1"/> 
          </wadl:resource>
        </wadl:resources> 
        
      </section>
      <!--      
      <section 
        xml:id="LBPoolNodes_Operations">
        <title>Load balancer pool nodes</title>
        <para>
          The <code>load_balancer_pool_id</code>returned by 
          these calls is automatically generated 
          by the RackConnect automation 
          and remains constant 
          unless the load balancer pool 
          is renamed on your hardware load balancer.
        </para>
        <para> All load balancer pools currently return a status of
          <code>ACTIVE</code>. Future features may introduce
          additional statuses. </para>
        <para> Node status values are: <itemizedlist>
          <listitem>
            <para><code>ADDING</code></para>
          </listitem>
          <listitem>
            <para><code>ACTIVE</code></para>
          </listitem>
          <listitem>
            <para><code>REMOVING</code></para>
          </listitem>
          <listitem>
            <para><code>ADD_FAILED</code></para>
          </listitem>
          <listitem>
            <para><code>REMOVE_FAILED</code></para>
          </listitem>
        </itemizedlist></para>
        <para> The cloud_servers node count includes only cloud
          servers from the cloud account specified as
          <code>tenant_id</code>. Any dedicated servers or cloud
          servers from another cloud account on the same RackConnect
          configuration are counted as external nodes. </para>
        
        <para>This section describes the &PRODUCTNAME; API operations
          that relate to load balancer pool nodes.</para>
        
        <wadl:resources 
          xmlns:wadl="http://wadl.dev.java.net/2009/02">
 
          <wadl:resource 
            href="../wadl/rackconnect.wadl#load_balancer_pools">
          </wadl:resource>
        
          <wadl:resource 
            href="../wadl/rackconnect.wadl#load_balancer_pool_id">
          </wadl:resource>
 
            <wadl:resource 
              href="../wadl/rackconnect.wadl#nodes">
              <wadl:method 
                href="../wadl/rackconnect.wadl#listNodes1LBPool"/>
              <wadl:method 
                href="../wadl/rackconnect.wadl#LBPools-nodes-add1"/>
            </wadl:resource>
              
            <wadl:resource 
                href="../wadl/rackconnect.wadl#details">
                <wadl:method 
                  href="../wadl/rackconnect.wadl#LBPools-nodes-listall-details"/>
             </wadl:resource>

        </wadl:resources> 
        
      </section>
    -->     
      <section 
        xml:id="PublicIPs_Operations">
        <title>Public IPs</title>
        <para> Public IP status values are: <itemizedlist>
          <listitem>
            <para><code>ADDING</code></para>
          </listitem>
          <listitem>
            <para><code>ACTIVE</code></para>
          </listitem>
          <listitem>
            <para><code>REMOVING</code></para>
          </listitem>
          <listitem>
            <para><code>ADD_FAILED</code></para>
          </listitem>
          <listitem>
            <para><code>REMOVE_FAILED</code></para>
          </listitem>
        </itemizedlist></para>
        <para>This section describes the &PRODUCTNAME; API operations
        that relate to public IPs.</para>
        
        <wadl:resources 
          xmlns:wadl="http://wadl.dev.java.net/2009/02">
          <wadl:resource 
            href="../wadl/rackconnect.wadl#public_ips">
            <wadl:method 
              href="../wadl/rackconnect.wadl#publicIPs-listall"/>
            <wadl:method 
              href="../wadl/rackconnect.wadl#publicIPs-add1"/>
            <wadl:resource 
              href="../wadl/rackconnect.wadl#cloud_server_UUID">
              <wadl:method 
                href="../wadl/rackconnect.wadl#publicIPs-cloudServers-list1"/>
            </wadl:resource>
          </wadl:resource> 
          <wadl:resource 
            href="../wadl/rackconnect.wadl#public_IP_id">
            <wadl:method 
              href="../wadl/rackconnect.wadl#publicIPs-list1"/> 
            <wadl:method 
              href="../wadl/rackconnect.wadl#publicIPs-delete1"/>
          </wadl:resource>
        </wadl:resources> 
        
      </section>
      
    </chapter>
</book>
